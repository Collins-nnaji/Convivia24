{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/arrow-right.ts","../../../../app/admin/clients/page.tsx","../../../../node_modules/lucide-react/src/icons/plus.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n];\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('ArrowRight', __iconNode);\n\nexport default ArrowRight;\n","import { requireAdmin } from '@/lib/auth/session';\nimport sql from '@/lib/db';\nimport Link from 'next/link';\nimport { ArrowRight, Plus } from 'lucide-react';\n\nexport default async function ClientsPage() {\n  await requireAdmin();\n\n  const clients = await sql`\n    SELECT\n      c.*,\n      COUNT(DISTINCT d.id)  as deal_count,\n      COUNT(DISTINCT m.id)  FILTER (WHERE m.sender_role = 'client' AND m.read_at IS NULL) as unread_count,\n      u.name as admin_name\n    FROM clients c\n    LEFT JOIN pipeline_deals d ON d.client_id = c.id\n    LEFT JOIN messages m ON m.client_id = c.id\n    LEFT JOIN app_users u ON u.id = c.assigned_admin\n    GROUP BY c.id, u.name\n    ORDER BY c.created_at DESC\n  `;\n\n  return (\n    <div className=\"p-8 max-w-5xl\">\n      <div className=\"flex items-end justify-between mb-8\">\n        <div>\n          <span className=\"inline-block bg-red-700 text-white text-[9px] font-black uppercase tracking-[0.2em] px-2 py-1 mb-3\">\n            Clients\n          </span>\n          <h1 className=\"text-3xl font-black tracking-tighter text-white uppercase italic\">\n            All Clients\n          </h1>\n          <p className=\"text-zinc-500 text-sm mt-1\">{clients.length} account{clients.length !== 1 ? 's' : ''}</p>\n        </div>\n        <Link\n          href=\"/admin/clients/new\"\n          className=\"flex items-center gap-2 bg-red-700 hover:bg-red-800 text-white text-sm font-black uppercase tracking-[0.1em] px-4 py-2.5 transition-colors\"\n        >\n          <Plus size={14} />\n          New Client\n        </Link>\n      </div>\n\n      <div className=\"bg-zinc-900 border border-zinc-800\">\n        {clients.length === 0 && (\n          <p className=\"text-zinc-600 text-sm text-center py-12\">No clients yet. Add one to get started.</p>\n        )}\n        <div className=\"divide-y divide-zinc-800\">\n          {clients.map((c: any) => (\n            <Link\n              key={c.id}\n              href={`/admin/clients/${c.id}`}\n              className=\"group flex items-center justify-between px-6 py-4 hover:bg-zinc-800 transition-colors\"\n            >\n              <div className=\"flex items-center gap-4\">\n                <div className=\"w-9 h-9 bg-red-700 flex items-center justify-center text-white text-sm font-black shrink-0\">\n                  {c.name[0].toUpperCase()}\n                </div>\n                <div>\n                  <p className=\"text-sm font-semibold text-white\">{c.name}</p>\n                  <div className=\"flex items-center gap-3 mt-0.5\">\n                    {c.industry && <span className=\"text-[11px] text-zinc-500\">{c.industry}</span>}\n                    <span className={`text-[9px] font-black uppercase tracking-[0.1em] px-1.5 py-0.5 ${c.status === 'active' ? 'bg-green-900 text-green-400' : 'bg-zinc-800 text-zinc-500'}`}>\n                      {c.status}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"flex items-center gap-6 text-right\">\n                <div>\n                  <p className=\"text-sm font-semibold text-white\">{c.deal_count}</p>\n                  <p className=\"text-[10px] text-zinc-600\">deals</p>\n                </div>\n                {parseInt(c.unread_count) > 0 && (\n                  <div className=\"bg-red-700 text-white text-[10px] font-black rounded-full w-5 h-5 flex items-center justify-center\">\n                    {c.unread_count}\n                  </div>\n                )}\n                <ArrowRight size={14} className=\"text-zinc-600 group-hover:text-red-500 transition-colors\" />\n              </div>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', __iconNode);\n\nexport default Plus;\n"],"names":[],"mappings":"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","ignoreList":[0,2]}