{"version":3,"sources":["../../../../app/admin/clients/new/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\nexport default function NewClientPage() {\n  const router = useRouter();\n  const [form, setForm] = useState({ name: '', industry: '', contact_email: '', contact_phone: '' });\n  const [userEmail, setUserEmail] = useState('');\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState('');\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    if (!form.name.trim()) return;\n    setSaving(true);\n    setError('');\n    const res = await fetch('/api/admin/clients', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ ...form, userEmail }),\n    });\n    if (res.ok) {\n      const client = await res.json();\n      router.push(`/admin/clients/${client.id}`);\n    } else {\n      const { error: msg } = await res.json();\n      setError(msg || 'Failed to create client');\n      setSaving(false);\n    }\n  }\n\n  return (\n    <div className=\"p-8 max-w-xl\">\n      <div className=\"mb-8\">\n        <a href=\"/admin/clients\" className=\"text-[11px] text-zinc-500 hover:text-white transition-colors mb-4 block\">← All Clients</a>\n        <span className=\"inline-block bg-red-700 text-white text-[9px] font-black uppercase tracking-[0.2em] px-2 py-1 mb-3\">New Client</span>\n        <h1 className=\"text-3xl font-black tracking-tighter text-white uppercase italic\">Add Client</h1>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"bg-zinc-900 border border-zinc-800 p-6 space-y-4\">\n        {[\n          { key: 'name', label: 'Company Name*', placeholder: 'Acme Corp' },\n          { key: 'industry', label: 'Industry', placeholder: 'SaaS, Retail, Finance…' },\n          { key: 'contact_email', label: 'Contact Email', placeholder: 'ceo@acme.com' },\n          { key: 'contact_phone', label: 'Contact Phone', placeholder: '+44 7700 000000' },\n        ].map(({ key, label, placeholder }) => (\n          <div key={key}>\n            <label className=\"block text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 mb-1.5\">{label}</label>\n            <input\n              value={(form as any)[key]}\n              onChange={(e) => setForm({ ...form, [key]: e.target.value })}\n              placeholder={placeholder}\n              className=\"w-full bg-zinc-800 border border-zinc-700 text-white text-sm px-4 py-2.5 placeholder-zinc-600 focus:outline-none focus:border-red-700 transition-colors\"\n            />\n          </div>\n        ))}\n\n        <div>\n          <label className=\"block text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 mb-1.5\">\n            Client User Email (Google account they'll sign in with)\n          </label>\n          <input\n            value={userEmail}\n            onChange={(e) => setUserEmail(e.target.value)}\n            placeholder=\"client@example.com\"\n            type=\"email\"\n            className=\"w-full bg-zinc-800 border border-zinc-700 text-white text-sm px-4 py-2.5 placeholder-zinc-600 focus:outline-none focus:border-red-700 transition-colors\"\n          />\n          <p className=\"text-[10px] text-zinc-600 mt-1\">Optional — you can link users later from the client page.</p>\n        </div>\n\n        {error && <p className=\"text-sm text-red-400\">{error}</p>}\n\n        <button type=\"submit\" disabled={saving || !form.name.trim()}\n          className=\"w-full bg-red-700 hover:bg-red-800 text-white text-sm font-black uppercase tracking-[0.1em] py-3 transition-colors disabled:opacity-50\">\n          {saving ? 'Creating…' : 'Create Client'}\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}