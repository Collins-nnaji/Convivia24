module.exports=[70106,a=>{"use strict";var b=a.i(72131);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],70106)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},16473,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(92759);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!0),l=(0,c.useRef)(null);async function m(){let a=await fetch("/api/messages");a.ok&&e(await a.json()),k(!1)}async function n(a){a.preventDefault(),f.trim()&&(i(!0),(await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({body:f})})).ok&&(g(""),await m()),i(!1))}return(0,c.useEffect)(()=>{m()},[]),(0,c.useEffect)(()=>{l.current?.scrollIntoView({behavior:"smooth"})},[a]),(0,b.jsxs)("div",{className:"p-8 max-w-3xl flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("span",{className:"inline-block bg-red-600 text-white text-[9px] font-black uppercase tracking-[0.2em] px-2 py-1 mb-3",children:"Messages"}),(0,b.jsx)("h1",{className:"text-3xl font-black tracking-tighter text-zinc-900 uppercase italic",children:"Your Team"}),(0,b.jsx)("p",{className:"text-zinc-600 text-sm mt-1",children:"Direct line to Convivia24"})]}),(0,b.jsxs)("div",{className:"flex-1 bg-white border border-zinc-200 rounded-lg mb-4 overflow-auto max-h-[55vh] p-4 space-y-3 shadow-sm",children:[j&&(0,b.jsx)("p",{className:"text-zinc-500 text-sm text-center py-8",children:"Loading…"}),!j&&0===a.length&&(0,b.jsx)("p",{className:"text-zinc-500 text-sm text-center py-8",children:"No messages yet. Say hello."}),a.map(a=>(0,b.jsx)("div",{className:`flex ${"client"===a.sender_role?"justify-end":"justify-start"}`,children:(0,b.jsxs)("div",{className:`max-w-[75%] px-4 py-2.5 text-sm rounded-lg ${"client"===a.sender_role?"bg-red-600 text-white":"bg-zinc-100 text-zinc-800"}`,children:["admin"===a.sender_role&&(0,b.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.1em] text-zinc-500 mb-1",children:"Convivia24"}),(0,b.jsx)("p",{className:"leading-relaxed",children:a.body}),(0,b.jsx)("p",{className:"text-[10px] opacity-70 mt-1 text-right",children:new Date(a.created_at).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})]})},a.id)),(0,b.jsx)("div",{ref:l})]}),(0,b.jsxs)("form",{onSubmit:n,className:"flex gap-2",children:[(0,b.jsx)("input",{value:f,onChange:a=>g(a.target.value),placeholder:"Type a message…",className:"flex-1 bg-white border border-zinc-300 text-zinc-900 text-sm px-4 py-3 rounded-lg placeholder-zinc-400 focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500 transition-colors"}),(0,b.jsxs)("button",{type:"submit",disabled:h||!f.trim(),className:"bg-red-600 hover:bg-red-700 text-white px-5 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2 text-sm font-black uppercase tracking-[0.1em]",children:[(0,b.jsx)(d.Send,{size:14}),"Send"]})]})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=_bb3c02c3._.js.map