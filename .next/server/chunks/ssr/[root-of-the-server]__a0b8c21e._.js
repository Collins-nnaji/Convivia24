module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},67971,a=>{a.n(a.i(26435))},37414,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/admin/clients/[id]/messages.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/admin/clients/[id]/messages.tsx <module evaluation>","default")},82438,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/admin/clients/[id]/messages.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/admin/clients/[id]/messages.tsx","default")},22816,a=>{"use strict";a.i(37414);var b=a.i(82438);a.n(b)},43925,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/admin/clients/[id]/deals.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/admin/clients/[id]/deals.tsx <module evaluation>","default")},12501,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/admin/clients/[id]/deals.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/admin/clients/[id]/deals.tsx","default")},21704,a=>{"use strict";a.i(43925);var b=a.i(12501);a.n(b)},58417,a=>{"use strict";var b=a.i(7997),c=a.i(53058),d=a.i(12259);a.i(70396);var e=a.i(73727),f=a.i(95936),g=a.i(22816),h=a.i(21704);async function i({params:a}){await (0,c.requireAdmin)();let{id:i}=await a,j=(await d.default`SELECT * FROM clients WHERE id = ${i}`)[0];j||(0,e.notFound)();let[k,l,m,n]=await Promise.all([d.default`SELECT * FROM pipeline_deals WHERE client_id = ${i} ORDER BY created_at DESC`,d.default`
      SELECT m.*, u.name as sender_name, u.image as sender_image
      FROM messages m
      JOIN app_users u ON u.id = m.sender_id
      WHERE m.client_id = ${i}
      ORDER BY m.created_at ASC
    `,d.default`SELECT * FROM documents WHERE client_id = ${i} ORDER BY created_at DESC`,d.default`
      SELECT u.* FROM app_users u
      JOIN client_users cu ON cu.user_id = u.id
      WHERE cu.client_id = ${i}
    `]);return(0,b.jsxs)("div",{className:"p-8 max-w-6xl",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)(f.default,{href:"/admin/clients",className:"text-[11px] text-zinc-500 hover:text-white transition-colors mb-4 block",children:"← All Clients"}),(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"inline-block bg-red-700 text-white text-[9px] font-black uppercase tracking-[0.2em] px-2 py-1 mb-3",children:"Client"}),(0,b.jsx)("h1",{className:"text-3xl font-black tracking-tighter text-white uppercase italic",children:j.name}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[j.industry&&(0,b.jsx)("span",{className:"text-zinc-500 text-sm",children:j.industry}),j.contact_email&&(0,b.jsx)("span",{className:"text-zinc-600 text-sm",children:j.contact_email}),(0,b.jsx)("span",{className:`text-[9px] font-black uppercase tracking-[0.1em] px-2 py-0.5 ${"active"===j.status?"bg-green-900 text-green-400":"bg-zinc-800 text-zinc-500"}`,children:j.status})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-zinc-800",children:(0,b.jsx)("h2",{className:"text-sm font-black uppercase tracking-[0.15em] text-white",children:"Pipeline Deals"})}),(0,b.jsx)(h.default,{clientId:i,deals:k})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-zinc-800",children:(0,b.jsx)("h2",{className:"text-sm font-black uppercase tracking-[0.15em] text-white",children:"Messages"})}),(0,b.jsx)(g.default,{clientId:i,initialMessages:l})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-zinc-800",children:(0,b.jsxs)("h2",{className:"text-sm font-black uppercase tracking-[0.15em] text-white",children:["Documents (",m.length,")"]})}),(0,b.jsxs)("div",{className:"divide-y divide-zinc-800 max-h-64 overflow-auto",children:[0===m.length&&(0,b.jsx)("p",{className:"text-zinc-600 text-sm text-center py-6",children:"No documents"}),m.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-3",children:[(0,b.jsx)("p",{className:"text-sm text-zinc-300 truncate",children:a.name}),(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-[11px] text-red-500 hover:text-red-400 shrink-0 ml-2",children:"Download →"})]},a.id))]})]}),(0,b.jsxs)("div",{className:"bg-zinc-900 border border-zinc-800",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-zinc-800",children:(0,b.jsx)("h2",{className:"text-sm font-black uppercase tracking-[0.15em] text-white",children:"Linked Users"})}),(0,b.jsxs)("div",{className:"divide-y divide-zinc-800",children:[0===n.length&&(0,b.jsx)("p",{className:"text-zinc-600 text-sm text-center py-6",children:"No users linked"}),n.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 px-6 py-3",children:[(0,b.jsx)("div",{className:"w-7 h-7 rounded-full bg-red-700 flex items-center justify-center text-white text-xs font-black shrink-0",children:(a.name||a.email||"U")[0].toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-white",children:a.name||"No name"}),(0,b.jsx)("p",{className:"text-[11px] text-zinc-500",children:a.email})]})]},a.id))]})]})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__a0b8c21e._.js.map