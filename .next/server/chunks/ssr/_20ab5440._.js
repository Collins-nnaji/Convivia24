module.exports=[24987,a=>{"use strict";let b=(0,a.i(70106).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},90166,a=>{"use strict";let b=(0,a.i(70106).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],90166)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},32860,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],32860)},43108,a=>{"use strict";let b=(0,a.i(70106).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},8406,21374,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);a.s(["Sparkles",()=>c],8406);let d=(0,b.default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>d],21374)},27539,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(50944),f=a.i(14953),g=a.i(32860),h=a.i(41675),i=a.i(24987),j=a.i(92e3),k=a.i(41710),l=a.i(90166),m=a.i(16201),n=a.i(8406),o=a.i(43108),p=a.i(21374);function q(){let a=(0,e.useRouter)(),{user:q,getToken:r}=(0,f.useAuth)(),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)("all"),[A,B]=(0,c.useState)({service_id:"",urgency:"routine",scheduled_start:"",scheduled_end:"",location_address:"",special_instructions:""}),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)("");(0,c.useEffect)(()=>{I()},[]),(0,c.useEffect)(()=>{if(A.service_id){let a=s.find(a=>a.id===A.service_id);a&&(D(a),J(a,A.urgency))}},[A.service_id,A.urgency,s]);let I=async()=>{try{let a=await fetch("/api/services");if(a.ok){let b=await a.json();t(b.services||[])}}catch(a){console.error("Fetch services error:",a)}finally{v(!1)}},J=(a,b)=>{if(!a)return;let c=a.base_price||0;"urgent"===b?c*=1.5:"emergency"===b&&(c*=2),F({base_price:a.base_price,urgency_multiplier:"urgent"===b?1.5:"emergency"===b?2:1,total_cost:c,duration:a.duration_hours})},K=async b=>{b.preventDefault(),H(""),x(!0);try{let b=r(),c={"Content-Type":"application/json"};b&&(c.Authorization=`Bearer ${b}`);let d=await fetch("/api/bookings",{method:"POST",headers:c,body:JSON.stringify({...A,total_cost:E?.total_cost||C?.base_price||0})}),e=await d.json();d.ok?a.push(`/client/jobs/${e.booking.id}`):H(e.error||"Failed to create booking")}catch(a){console.error("Create booking error:",a),H("Network error. Please try again.")}finally{x(!1)}},L=s.filter(a=>("all"===y||a.category===y)&&("emergency"!==A.urgency&&"urgent"!==A.urgency||"rapid"===a.type||"emergency"===a.type||"security"===a.category)),M=a=>`â‚¦${a.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return(0,b.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black uppercase tracking-tighter italic text-black mb-2",children:"Request Service"}),(0,b.jsx)("p",{className:"text-sm sm:text-base text-gray-600 font-medium",children:"Choose cleaning, security, or both. Get instant pricing and confirmed quotes."})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-gray-50 border border-gray-200",children:[(0,b.jsx)("span",{className:"text-xs sm:text-sm font-black uppercase tracking-wider text-gray-600",children:"Service Type:"}),[{id:"all",label:"All Services",icon:p.Star,color:"gray"},{id:"cleaning",label:"Cleaning",icon:n.Sparkles,color:"red"},{id:"security",label:"Security",icon:o.Lock,color:"blue"},{id:"bundle",label:"Bundles",icon:p.Star,color:"green"}].map(a=>{let c=a.icon,e=y===a.id;return(0,b.jsxs)(d.motion.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{z(a.id),B({...A,service_id:""})},className:`flex items-center gap-2 px-4 py-2 rounded-xl border-2 font-black uppercase tracking-wider text-xs transition-all shadow-sm ${e?"cleaning"===a.id?"bg-red-100 border-red-300 text-red-700 shadow-md":"security"===a.id?"bg-blue-100 border-blue-300 text-blue-700 shadow-md":"bundle"===a.id?"bg-green-100 border-green-300 text-green-700 shadow-md":"bg-gray-100 border-gray-300 text-gray-700 shadow-md":"bg-white border-gray-200 text-gray-600 hover:border-red-300"}`,children:[(0,b.jsx)(c,{size:16}),a.label]},a.id)})]}),(0,b.jsxs)("form",{onSubmit:K,className:"space-y-6 sm:space-y-8",children:[G&&(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 sm:p-4 rounded-xl bg-red-50 border border-red-200 flex items-center gap-2 sm:gap-3",children:[(0,b.jsx)(j.AlertCircle,{size:18,className:"sm:w-5 sm:h-5 text-red-600 flex-shrink-0"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-red-700 font-medium",children:G})]}),(0,b.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,b.jsxs)("label",{className:"text-xs sm:text-sm font-bold uppercase tracking-wider text-gray-600 flex items-center gap-2",children:[(0,b.jsx)(j.AlertCircle,{size:14,className:"sm:w-4 sm:h-4 text-red-600"}),"Urgency Level"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[{value:"routine",label:"Routine",desc:"Normal scheduling",selectedBg:"bg-gray-100",selectedBorder:"border-gray-300",selectedText:"text-gray-800"},{value:"urgent",label:"Urgent",desc:"Same-day response",selectedBg:"bg-orange-100",selectedBorder:"border-orange-300",selectedText:"text-orange-700"},{value:"emergency",label:"Emergency",desc:"Immediate response",selectedBg:"bg-red-100",selectedBorder:"border-red-300",selectedText:"text-red-700"}].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>B({...A,urgency:a.value,service_id:"emergency"===a.value||"urgent"===a.value?"":A.service_id}),className:`p-3 sm:p-4 rounded-xl border transition-all text-left ${A.urgency===a.value?`${a.selectedBg} ${a.selectedBorder} ${a.selectedText}`:"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 hover:border-red-300"}`,children:[(0,b.jsx)("p",{className:"font-black uppercase tracking-tight mb-1",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.desc})]},a.value))})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"text-sm font-bold uppercase tracking-wider text-gray-600 flex items-center gap-2",children:[(0,b.jsx)(m.CheckCircle,{size:16,className:"text-green-600"}),"Service Type"]}),u?(0,b.jsx)("div",{className:"text-center py-8 text-gray-600",children:"Loading services..."}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:L.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>B({...A,service_id:a.id}),className:`p-4 sm:p-5 md:p-6 rounded-xl border transition-all text-left shadow-sm ${A.service_id===a.id?"bg-red-50 border-red-300 text-red-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-red-300"}`,children:[(0,b.jsx)("p",{className:"font-black uppercase tracking-tight mb-2",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs mt-3 pt-3 border-t border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 text-red-600 font-black",children:[(0,b.jsx)(l.DollarSign,{size:12}),M(a.base_price||0),"hourly"===a.pricing_model&&"/hr","daily"===a.pricing_model&&"/day","monthly"===a.pricing_model&&"/month"]}),a.duration_hours&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-gray-600 font-bold",children:[(0,b.jsx)(k.Clock,{size:12}),a.duration_hours>=24?`${Math.round(a.duration_hours/24)} days`:`${a.duration_hours}hrs`]})]}),a.category&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("span",{className:`text-[8px] font-black uppercase tracking-wider px-2 py-1 rounded ${"cleaning"===a.category?"bg-red-100 text-red-700":"security"===a.category?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:"cleaning"===a.category?"CONVIVIA24 CLEAN":"security"===a.category?"CONVIVIA24 SECURE":"BUNDLE"})})]},a.id))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-xs sm:text-sm font-bold uppercase tracking-wider text-gray-600 flex items-center gap-2",children:[(0,b.jsx)(h.Calendar,{size:14,className:"sm:w-4 sm:h-4 text-red-600"}),"Preferred Start Time"]}),(0,b.jsx)("input",{type:"datetime-local",value:A.scheduled_start,onChange:a=>B({...A,scheduled_start:a.target.value}),className:"w-full px-3 sm:px-4 py-3 sm:py-4 rounded-xl bg-white border border-gray-200 text-black focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all text-sm sm:text-base"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-xs sm:text-sm font-bold uppercase tracking-wider text-gray-600 flex items-center gap-2",children:[(0,b.jsx)(k.Clock,{size:14,className:"sm:w-4 sm:h-4 text-red-600"}),"Preferred End Time"]}),(0,b.jsx)("input",{type:"datetime-local",value:A.scheduled_end,onChange:a=>B({...A,scheduled_end:a.target.value}),className:"w-full px-3 sm:px-4 py-3 sm:py-4 rounded-xl bg-white border border-gray-200 text-black focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all text-sm sm:text-base"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-xs sm:text-sm font-bold uppercase tracking-wider text-gray-600 flex items-center gap-2",children:[(0,b.jsx)(i.MapPin,{size:14,className:"sm:w-4 sm:h-4 text-red-600"}),"Service Location Address"]}),(0,b.jsx)("textarea",{value:A.location_address,onChange:a=>B({...A,location_address:a.target.value}),required:!0,rows:3,className:"w-full px-3 sm:px-4 py-3 sm:py-4 rounded-xl bg-white border border-gray-200 text-black placeholder-gray-400 focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all text-sm sm:text-base",placeholder:"Enter full address where service is needed"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-xs sm:text-sm font-bold uppercase tracking-wider text-gray-600",children:"Special Instructions (Optional)"}),(0,b.jsx)("textarea",{value:A.special_instructions,onChange:a=>B({...A,special_instructions:a.target.value}),rows:4,className:"w-full px-3 sm:px-4 py-3 sm:py-4 rounded-xl bg-white border border-gray-200 text-black placeholder-gray-400 focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all text-sm sm:text-base",placeholder:"Any specific requirements or special instructions..."})]}),E&&C&&(0,b.jsxs)("div",{className:"p-4 sm:p-6 rounded-xl bg-green-50 border border-green-300 space-y-2 sm:space-y-3 shadow-lg",children:[(0,b.jsx)("h3",{className:"text-base sm:text-lg font-black uppercase tracking-tight text-green-700",children:"Estimated Quote"}),(0,b.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between text-gray-700",children:[(0,b.jsx)("span",{className:"font-bold",children:"Base Price:"}),(0,b.jsx)("span",{className:"font-black",children:M(E.base_price)})]}),E.urgency_multiplier>1&&(0,b.jsxs)("div",{className:"flex justify-between text-orange-700",children:[(0,b.jsxs)("span",{className:"font-bold",children:["Urgency Premium (",Math.round((E.urgency_multiplier-1)*100),"%):"]}),(0,b.jsx)("span",{className:"font-black",children:M(E.total_cost-E.base_price)})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xl font-black text-black pt-3 border-t-2 border-gray-300",children:[(0,b.jsx)("span",{children:"Total Cost:"}),(0,b.jsx)("span",{className:"text-red-600",children:M(E.total_cost)})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 pt-2",children:[(0,b.jsx)("span",{className:"font-bold",children:"Estimated Duration:"}),(0,b.jsx)("span",{className:"font-black",children:E.duration>=24?`${Math.round(E.duration/24)} days`:`${E.duration} hours`})]})]})]}),(0,b.jsxs)(d.motion.button,{type:"submit",disabled:w||!A.service_id||!A.location_address,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full px-5 sm:px-6 py-4 sm:py-5 bg-red-600 text-white font-black rounded-xl hover:bg-red-700 transition-all flex items-center justify-center gap-2 sm:gap-3 uppercase tracking-wider text-xs sm:text-sm shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-red-600",children:[w?"Submitting Request...":"Submit Service Request",(0,b.jsx)(g.ArrowRight,{size:18,className:"sm:w-5 sm:h-5"})]})]})]})}a.s(["default",()=>q])}];

//# sourceMappingURL=_20ab5440._.js.map