{"version":3,"sources":["../../../../app/admin/leads/actions.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ntype Client = { id: string; name: string };\n\nexport default function LeadActions({\n  leadId, status, clients, assignedClient\n}: { leadId: string; status: string; clients: Client[]; assignedClient?: string }) {\n  const [currentStatus, setCurrentStatus] = useState(status);\n  const [selectedClient, setSelectedClient] = useState(assignedClient || '');\n  const [saving, setSaving] = useState(false);\n\n  async function update(patch: Record<string, string>) {\n    setSaving(true);\n    await fetch(`/api/admin/leads/${leadId}`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(patch),\n    });\n    setSaving(false);\n  }\n\n  async function handleStatus(e: React.ChangeEvent<HTMLSelectElement>) {\n    setCurrentStatus(e.target.value);\n    await update({ status: e.target.value });\n  }\n\n  async function handleAssign(e: React.ChangeEvent<HTMLSelectElement>) {\n    setSelectedClient(e.target.value);\n    await update({ assigned_client: e.target.value });\n  }\n\n  return (\n    <div className=\"flex items-center gap-2 flex-wrap\">\n      <select value={currentStatus} onChange={handleStatus} disabled={saving}\n        className=\"bg-zinc-800 border border-zinc-700 text-white text-[11px] font-black uppercase px-2 py-1.5 focus:outline-none focus:border-red-700 disabled:opacity-50\">\n        {['new','contacted','converted','rejected'].map((s) => (\n          <option key={s} value={s}>{s}</option>\n        ))}\n      </select>\n      <select value={selectedClient} onChange={handleAssign} disabled={saving}\n        className=\"bg-zinc-800 border border-zinc-700 text-zinc-400 text-[11px] px-2 py-1.5 focus:outline-none focus:border-red-700 disabled:opacity-50\">\n        <option value=\"\">Assign to client…</option>\n        {clients.map((c) => (\n          <option key={c.id} value={c.id}>{c.name}</option>\n        ))}\n      </select>\n      {saving && <span className=\"text-[10px] text-zinc-600\">Saving…</span>}\n    </div>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAIe,SAAS,EAAY,QAClC,CAAM,QAAE,CAAM,SAAE,CAAO,gBAAE,CAAc,CACwC,EAC/E,GAAM,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC7C,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAAkB,IACjE,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAErC,eAAe,EAAO,CAA6B,EACjD,GAAU,GACV,MAAM,MAAM,CAAC,iBAAiB,EAAE,EAAA,CAAQ,CAAE,CACxC,OAAQ,QACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,EACvB,GACA,GAAU,EACZ,CAEA,eAAe,EAAa,CAAuC,EACjE,EAAiB,EAAE,MAAM,CAAC,KAAK,EAC/B,MAAM,EAAO,CAAE,OAAQ,EAAE,MAAM,CAAC,KAAM,AAAD,EACvC,CAEA,eAAe,EAAa,CAAuC,EACjE,EAAkB,EAAE,MAAM,CAAC,KAAK,EAChC,MAAM,EAAO,CAAE,gBAAiB,EAAE,MAAM,CAAC,KAAK,AAAC,EACjD,CAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAO,EAAe,SAAU,EAAc,SAAU,EAC9D,UAAU,kKACT,CAAC,MAAM,YAAY,YAAY,WAAW,CAAC,GAAG,CAAC,AAAC,GAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,MAAO,WAAI,GAAd,MAGjB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,MAAO,EAAgB,SAAU,EAAc,SAAU,EAC/D,UAAU,iJACV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,sBAChB,EAAQ,GAAG,CAAC,AAAC,GACZ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAkB,MAAO,EAAE,EAAE,UAAG,EAAE,IAAI,EAA1B,EAAE,EAAE,MAGpB,GAAU,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA4B,cAG7D"}