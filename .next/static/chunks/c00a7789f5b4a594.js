(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43447,99749,92808,e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(r){t(e,r,n[r])})}return e}function n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}e.s(["_",()=>t],99749),e.s(["_",()=>r],43447),e.s(["_",()=>n],92808)},75254,33027,e=>{"use strict";var t=e.i(43447);function r(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}e.s(["_",()=>r],33027);var n=e.i(71645);let s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var a=e.i(92808),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,n.forwardRef)((e,c)=>{var{color:o="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:p="",children:m,iconNode:f}=e,x=r(e,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return(0,n.createElement)("svg",(0,t._)((0,a._)((0,t._)({ref:c},i),{width:l,height:l,stroke:o,strokeWidth:u?24*Number(d)/Number(l):d,className:s("lucide",p)}),x),[...f.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(m)?m:[m]])}),o=(e,a)=>{let i=(0,n.forwardRef)((i,o)=>{var{className:l}=i,d=r(i,["className"]);return(0,n.createElement)(c,(0,t._)({ref:o,iconNode:a,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),l)},d))});return i.displayName="".concat(e),i};e.s(["default",()=>o],75254)},14764,e=>{"use strict";let t=(0,e.i(75254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},64621,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(14764);function s(){let[e,s]=(0,r.useState)([]),[a,i]=(0,r.useState)(""),[c,o]=(0,r.useState)(!1),[l,d]=(0,r.useState)(!0),u=(0,r.useRef)(null);async function p(){let e=await fetch("/api/messages");e.ok&&s(await e.json()),d(!1)}async function m(e){e.preventDefault(),a.trim()&&(o(!0),(await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({body:a})})).ok&&(i(""),await p()),o(!1))}return(0,r.useEffect)(()=>{p()},[]),(0,r.useEffect)(()=>{var e;null==(e=u.current)||e.scrollIntoView({behavior:"smooth"})},[e]),(0,t.jsxs)("div",{className:"p-8 max-w-3xl flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("span",{className:"inline-block bg-red-600 text-white text-[9px] font-black uppercase tracking-[0.2em] px-2 py-1 mb-3",children:"Messages"}),(0,t.jsx)("h1",{className:"text-3xl font-black tracking-tighter text-zinc-900 uppercase italic",children:"Your Team"}),(0,t.jsx)("p",{className:"text-zinc-600 text-sm mt-1",children:"Direct line to Convivia24"})]}),(0,t.jsxs)("div",{className:"flex-1 bg-white border border-zinc-200 rounded-lg mb-4 overflow-auto max-h-[55vh] p-4 space-y-3 shadow-sm",children:[l&&(0,t.jsx)("p",{className:"text-zinc-500 text-sm text-center py-8",children:"Loading…"}),!l&&0===e.length&&(0,t.jsx)("p",{className:"text-zinc-500 text-sm text-center py-8",children:"No messages yet. Say hello."}),e.map(e=>(0,t.jsx)("div",{className:"flex ".concat("client"===e.sender_role?"justify-end":"justify-start"),children:(0,t.jsxs)("div",{className:"max-w-[75%] px-4 py-2.5 text-sm rounded-lg ".concat("client"===e.sender_role?"bg-red-600 text-white":"bg-zinc-100 text-zinc-800"),children:["admin"===e.sender_role&&(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.1em] text-zinc-500 mb-1",children:"Convivia24"}),(0,t.jsx)("p",{className:"leading-relaxed",children:e.body}),(0,t.jsx)("p",{className:"text-[10px] opacity-70 mt-1 text-right",children:new Date(e.created_at).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})]})},e.id)),(0,t.jsx)("div",{ref:u})]}),(0,t.jsxs)("form",{onSubmit:m,className:"flex gap-2",children:[(0,t.jsx)("input",{value:a,onChange:e=>i(e.target.value),placeholder:"Type a message…",className:"flex-1 bg-white border border-zinc-300 text-zinc-900 text-sm px-4 py-3 rounded-lg placeholder-zinc-400 focus:outline-none focus:border-red-500 focus:ring-1 focus:ring-red-500 transition-colors"}),(0,t.jsxs)("button",{type:"submit",disabled:c||!a.trim(),className:"bg-red-600 hover:bg-red-700 text-white px-5 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2 text-sm font-black uppercase tracking-[0.1em]",children:[(0,t.jsx)(n.Send,{size:14}),"Send"]})]})]})}e.s(["default",()=>s])}]);