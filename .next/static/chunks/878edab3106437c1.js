(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44876,e=>{"use strict";var t=e.i(43476);e.i(71645);let a={pending:{bg:"bg-orange-100",text:"text-orange-700",border:"border-orange-300",label:"Pending"},scheduled:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300",label:"Scheduled"},in_progress:{bg:"bg-red-100",text:"text-red-700",border:"border-red-300",label:"In Progress"},completed:{bg:"bg-green-100",text:"text-green-700",border:"border-green-300",label:"Completed"},cancelled:{bg:"bg-red-100",text:"text-red-700",border:"border-red-300",label:"Cancelled"},assigned:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300",label:"Assigned"},accepted:{bg:"bg-green-100",text:"text-green-700",border:"border-green-300",label:"Accepted"},started:{bg:"bg-red-100",text:"text-red-700",border:"border-red-300",label:"Started"},draft:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300",label:"Draft"},sent:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300",label:"Sent"},paid:{bg:"bg-green-100",text:"text-green-700",border:"border-green-300",label:"Paid"},overdue:{bg:"bg-red-100",text:"text-red-700",border:"border-red-300",label:"Overdue"},compliant:{bg:"bg-green-100",text:"text-green-700",border:"border-green-300",label:"Compliant"},non_compliant:{bg:"bg-orange-100",text:"text-orange-700",border:"border-orange-300",label:"Non-Compliant"},verified:{bg:"bg-green-100",text:"text-green-700",border:"border-green-300",label:"Verified"}};function s(e){let{status:s,size:r="default"}=e,l=a[null==s?void 0:s.toLowerCase()]||a.pending,i={small:"px-2 py-1 text-[10px]",default:"px-3 py-1.5 text-xs",large:"px-4 py-2 text-sm"};return(0,t.jsx)("span",{className:"inline-flex items-center justify-center rounded-full border font-black uppercase tracking-wider ".concat(l.bg," ").concat(l.text," ").concat(l.border," ").concat(i[r]||i.default),children:l.label||(null==s?void 0:s.replace("_"," "))||"Unknown"})}e.s(["default",()=>s])},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},12426,e=>{"use strict";let t=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},89718,e=>{"use strict";var t=e.i(20786),a=e.i(92808),s=e.i(43476),r=e.i(71645),l=e.i(46932),i=e.i(69638),c=e.i(75254);let d=(0,c.default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),n=(0,c.default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),o=(0,c.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function x(e){let{items:c=[],photos:x=[],onUpdate:g,readOnly:m=!1,serviceType:p=null}=e,[b,h]=(0,r.useState)(c),[u,y]=(0,r.useState)(x||[]),f={routine:["All floors swept and mopped","Restrooms cleaned and sanitized","Trash bins emptied","High-touch surfaces disinfected","Windows and glass surfaces cleaned","Furniture dusted and arranged"],rapid:["Spill area contained","Surface cleaned and sanitized","Waste properly disposed","Area ventilated","Safety hazards addressed","Area restored to original condition"],deep:["Steam cleaning completed","High-touch areas sanitized","Floor scrubbing completed","Washroom deep sanitization done","All equipment cleaned","Area completely sanitized"],compliance:["Hygiene checklist verified","All surfaces disinfected","Photo documentation completed","Supervisor sign-off obtained","Non-compliance items addressed","Audit-ready status confirmed"],night:["Silent protocols followed","All areas cleaned","Restocking completed","Security protocols maintained","Final inspection completed","Area locked and secured"]},j=b.length>0?b:(f[p]||f.routine).map(e=>({id:Date.now()+Math.random(),text:e,completed:!1}));return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-lg font-black uppercase tracking-tight text-black mb-4",children:"Compliance Checklist"}),j.map((e,r)=>(0,s.jsxs)(l.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},onClick:()=>(e=>{if(m)return;let s=j.map(s=>s.id===e?(0,a._)((0,t._)({},s),{completed:!s.completed}):s);h(s),g&&g({items:s,photos:u})})(e.id),className:"flex items-center gap-4 p-4 rounded-xl border transition-all cursor-pointer ".concat(e.completed?"bg-green-100 border-green-300 text-green-700":"bg-white border-gray-200 text-black hover:bg-gray-50 hover:border-orange-300"," ").concat(m?"cursor-default":""),children:[e.completed?(0,s.jsx)(i.CheckCircle,{size:24,className:"text-green-600 flex-shrink-0"}):(0,s.jsx)(d,{size:24,className:"text-gray-400 flex-shrink-0"}),(0,s.jsx)("span",{className:"flex-1 font-medium ".concat(e.completed?"line-through opacity-75":""),children:e.text||e})]},e.id||r))]}),!m&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{if(m||!e.target.files)return;let t=[...u,...Array.from(e.target.files).map(e=>({id:Date.now()+Math.random(),file:e,url:URL.createObjectURL(e),name:e.name}))];y(t),g&&g({items:j,photos:t})},className:"hidden"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white border border-gray-200 hover:bg-orange-50 hover:border-orange-300 transition-all cursor-pointer",children:[(0,s.jsx)(n,{size:20,className:"text-orange-600"}),(0,s.jsx)("span",{className:"text-sm font-bold uppercase tracking-wider text-black",children:"Upload Photos for Verification"})]})]}),u.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.map(e=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("img",{src:e.url||e,alt:e.name||"Compliance photo",className:"w-full h-32 object-cover rounded-xl border border-gray-200"}),(0,s.jsx)("button",{onClick:()=>(e=>{if(m)return;let t=u.filter(t=>t.id!==e);y(t),g&&g({items:j,photos:t})})(e.id),className:"absolute top-2 right-2 p-1.5 rounded-full bg-red-600 hover:bg-red-700 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(o,{size:16})})]},e.id))})]}),m&&u.length>0&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-black uppercase tracking-tight text-black",children:"Verification Photos"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.map((e,t)=>(0,s.jsx)("img",{src:e.url||e,alt:"Compliance photo ".concat(t+1),className:"w-full h-32 object-cover rounded-xl border border-gray-200"},t))})]})]})}e.s(["default",()=>x],89718)},85873,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(81291),l=e.i(44876),i=e.i(89718),c=e.i(87316),d=e.i(46897),n=e.i(12426),o=e.i(3116),x=e.i(63209);function g(){var e;let g=(0,s.useRouter)(),m=(0,s.useParams)(),{getToken:p}=(0,r.useAuth)(),[b,h]=(0,a.useState)(null),[u,y]=(0,a.useState)(!0);(0,a.useEffect)(()=>{m.id&&f()},[m.id]);let f=async()=>{try{let e=p(),t={};e&&(t.Authorization="Bearer ".concat(e));let a=await fetch("/api/bookings/".concat(m.id),{headers:t});if(a.ok){let e=await a.json();h(e.booking)}}catch(e){console.error("Fetch job error:",e)}finally{y(!1)}};if(u)return(0,t.jsx)("div",{className:"text-center py-12 text-gray-600",children:"Loading..."});if(!b)return(0,t.jsx)("div",{className:"text-center py-12 text-gray-600",children:"Job not found"});let j=e=>e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Not scheduled";return(0,t.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>g.back(),className:"text-gray-600 hover:text-red-600 transition-colors flex items-center gap-2 font-bold",children:"← Back"}),(0,t.jsx)(l.default,{status:b.status,size:"large"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 space-y-4 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tight text-black mb-4",children:"Service Details"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-1",children:"Service"}),(0,t.jsx)("p",{className:"text-lg font-bold text-black",children:b.service_name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:b.service_type})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-700",children:[(0,t.jsx)(x.AlertCircle,{size:16,className:"text-orange-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Urgency"}),(0,t.jsx)("p",{className:"text-sm font-medium capitalize",children:b.urgency})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 space-y-4 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tight text-black mb-4",children:"Schedule"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-700",children:[(0,t.jsx)(c.Calendar,{size:16,className:"text-red-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Start"}),(0,t.jsx)("p",{className:"text-sm font-medium text-black",children:j(b.scheduled_start)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-700",children:[(0,t.jsx)(o.Clock,{size:16,className:"text-red-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"End"}),(0,t.jsx)("p",{className:"text-sm font-medium text-black",children:j(b.scheduled_end||b.scheduled_start)})]})]}),b.actual_start&&(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-700",children:[(0,t.jsx)(o.Clock,{size:16,className:"text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Actual Start"}),(0,t.jsx)("p",{className:"text-sm font-medium text-black",children:j(b.actual_start)})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 space-y-4 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tight text-black mb-4",children:"Location"}),(0,t.jsxs)("div",{className:"flex items-start gap-3 text-gray-700",children:[(0,t.jsx)(d.MapPin,{size:16,className:"text-red-600 mt-1"}),(0,t.jsx)("p",{className:"text-sm font-medium text-black",children:b.location_address})]})]}),(0,t.jsxs)("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 space-y-4 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tight text-black mb-4",children:"Cost"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-black",children:[(0,t.jsx)(n.DollarSign,{size:24,className:"text-red-600"}),(0,t.jsxs)("p",{className:"text-3xl font-black",children:["₦",(null==(e=b.total_cost)?void 0:e.toLocaleString())||"0"]})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["Payment Status: ",(0,t.jsx)(l.default,{status:b.payment_status||"pending",size:"small"})]})]})]}),b.assignments&&b.assignments.length>0&&(0,t.jsxs)("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 space-y-4 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tight text-black mb-4",children:"Assigned Staff"}),(0,t.jsx)("div",{className:"space-y-3",children:b.assignments.map((e,a)=>(0,t.jsxs)("div",{className:"p-4 rounded-xl bg-gray-50 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("p",{className:"font-bold text-black",children:[e.staff_first_name," ",e.staff_last_name]}),(0,t.jsx)(l.default,{status:e.status,size:"small"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.staff_email})]},a))})]}),b.special_instructions&&(0,t.jsxs)("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tight text-black mb-4",children:"Special Instructions"}),(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed",children:b.special_instructions})]}),b.compliance_logs&&b.compliance_logs.length>0&&(0,t.jsxs)("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 space-y-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tight text-black",children:"Compliance Verification"}),b.compliance_logs.map((e,a)=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Checked by ",e.checked_by_first_name," ",e.checked_by_last_name]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:j(e.verified_at||e.created_at)})]}),(0,t.jsx)(i.default,{items:e.checklist_items||[],photos:e.photos||[],readOnly:!0}),e.sign_off&&(0,t.jsx)("div",{className:"p-4 rounded-xl bg-green-100 border border-green-300",children:(0,t.jsx)("p",{className:"text-sm font-bold text-green-700",children:"✓ Signed Off"})})]},a))]}),b.invoice&&(0,t.jsx)("div",{className:"p-6 rounded-2xl bg-gray-50 border border-gray-200 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold uppercase tracking-wider text-gray-500 mb-1",children:"Invoice"}),(0,t.jsx)("p",{className:"text-lg font-black text-black",children:b.invoice.invoice_number}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Status: ",(0,t.jsx)(l.default,{status:b.invoice.status,size:"small"})]})]}),(0,t.jsx)("button",{onClick:()=>g.push("/client/invoices"),className:"px-6 py-3 bg-red-600 text-white font-black rounded-xl hover:bg-red-700 transition-all uppercase tracking-wider text-sm",children:"View Invoice"})]})})]})}e.s(["default",()=>g])}]);