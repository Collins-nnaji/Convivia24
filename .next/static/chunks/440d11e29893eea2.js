(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},12426,e=>{"use strict";let t=(0,e.i(75254).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},88069,e=>{"use strict";var t=e.i(43476);e.i(71645);var s=e.i(46932),a=e.i(87316),r=e.i(46897),i=e.i(3116),l=e.i(12426),c=e.i(84614);let n=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var d=e.i(63209);let o={pending:"bg-orange-100 text-orange-700 border-orange-300",scheduled:"bg-gray-100 text-gray-800 border-gray-300",in_progress:"bg-red-100 text-red-700 border-red-300",completed:"bg-green-100 text-green-700 border-green-300",cancelled:"bg-red-100 text-red-700 border-red-300"},x={routine:"text-gray-600",urgent:"text-orange-600",emergency:"text-red-600"};function m(e){let{job:m,onClick:h,index:g=0}=e,{id:p,status:u,urgency:y,scheduled_start:f,location_address:b,total_cost:j,service_name:k,business_name:v,requested_by_first_name:N,requested_by_last_name:w,assignment_status:C}=m;return(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*g,duration:.4},whileHover:{y:-4,scale:1.01},onClick:h,className:"group relative p-6 rounded-2xl bg-white border border-gray-200 hover:bg-gray-50 hover:border-red-300 hover:shadow-lg transition-all duration-300 cursor-pointer",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-black uppercase tracking-tight text-black mb-2 group-hover:text-red-600 transition-colors",children:k||"Service Request"}),v&&(0,t.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:v})]}),(0,t.jsx)("div",{className:"px-3 py-1.5 rounded-full border text-xs font-black uppercase tracking-wider ".concat(o[u]||o.pending),children:(null==u?void 0:u.replace("_"," "))||"pending"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f&&(0,t.jsxs)("div",{className:"flex items-center gap-3 text-black",children:[(0,t.jsx)(a.Calendar,{size:16,className:"text-red-600 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Scheduled"}),(0,t.jsx)("p",{className:"text-sm font-medium text-black",children:f?new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Not scheduled"})]})]}),b&&(0,t.jsxs)("div",{className:"flex items-start gap-3 text-black",children:[(0,t.jsx)(r.MapPin,{size:16,className:"text-red-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Location"}),(0,t.jsx)("p",{className:"text-sm font-medium text-black truncate",children:b})]})]}),j>0&&(0,t.jsxs)("div",{className:"flex items-center gap-3 text-black",children:[(0,t.jsx)(l.DollarSign,{size:16,className:"text-green-600 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Cost"}),(0,t.jsxs)("p",{className:"text-sm font-medium text-black",children:["â‚¦",j.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),y&&(0,t.jsxs)("div",{className:"flex items-center gap-3 text-black",children:[(0,t.jsx)(d.AlertCircle,{size:16,className:"".concat(x[y]||x.routine," flex-shrink-0")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold uppercase tracking-wider text-gray-500",children:"Urgency"}),(0,t.jsx)("p",{className:"text-sm font-medium capitalize ".concat(x[y]||x.routine),children:y})]})]})]}),(N||w)&&(0,t.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,t.jsx)(c.User,{size:14,className:"text-gray-500"}),(0,t.jsxs)("span",{className:"text-xs font-medium",children:["Requested by ",[N,w].filter(Boolean).join(" ")||"Client"]})]}),C&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,t.jsx)(i.Clock,{size:12,className:"text-red-600"}),(0,t.jsx)("span",{className:"font-medium capitalize",children:C.replace("_"," ")})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-center md:justify-end",children:(0,t.jsx)(s.motion.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"text-gray-400 group-hover:text-red-600 transition-colors",children:(0,t.jsx)(n,{size:24})})})]})})}e.s(["default",()=>m],88069)},83293,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(81291),i=e.i(88069);function l(){let e=(0,a.useRouter)(),{getToken:l}=(0,r.useAuth)(),[c,n]=(0,s.useState)([]),[d,o]=(0,s.useState)([]),[x,m]=(0,s.useState)("all"),[h,g]=(0,s.useState)(!0);(0,s.useEffect)(()=>{p()},[]),(0,s.useEffect)(()=>{u()},[c,x]);let p=async()=>{try{let e=l(),t={};e&&(t.Authorization="Bearer ".concat(e));let s=await fetch("/api/bookings",{headers:t});if(s.ok){let e=await s.json();n(e.bookings||[])}}catch(e){console.error("Fetch jobs error:",e)}finally{g(!1)}},u=()=>{o("all"===x?c:c.filter(e=>e.status===x))};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-black uppercase tracking-tighter italic text-black",children:"My Jobs"}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","assigned","accepted","started","completed"].map(e=>(0,t.jsx)("button",{onClick:()=>m(e),className:"px-4 py-2 rounded-xl border font-bold uppercase tracking-wider text-xs whitespace-nowrap transition-all shadow-sm ".concat(x===e?"bg-red-100 border-red-300 text-red-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 hover:border-red-300"),children:"all"===e?"All":e},e))}),h?(0,t.jsx)("div",{className:"text-center py-12 text-gray-600",children:"Loading..."}):d.length>0?(0,t.jsx)("div",{className:"space-y-4",children:d.map((s,a)=>(0,t.jsx)(i.default,{job:s,index:a,onClick:()=>e.push("/staff/jobs/".concat(s.id))},s.id))}):(0,t.jsx)("div",{className:"text-center py-12 text-gray-600",children:"No jobs found."})]})}e.s(["default",()=>l])}]);