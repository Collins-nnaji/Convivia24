{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/collinsnnaji/VSCodeDevelopments/convivia24/lib/db.js"],"sourcesContent":["import { neon } from '@neondatabase/serverless';\n\n// Handle missing DATABASE_URL gracefully for build time\nconst databaseUrl = process.env.DATABASE_URL || process.env.POSTGRES_URL || '';\nexport const sql = databaseUrl ? neon(databaseUrl) : null;\n\n/**\n * Execute a query with error handling\n */\nexport async function query(text, params) {\n  if (!sql) {\n    throw new Error('Database connection not configured. Please set DATABASE_URL environment variable.');\n  }\n  try {\n    const result = await sql(text, params);\n    return result;\n  } catch (error) {\n    console.error('Database query error:', error);\n    throw error;\n  }\n}\n\n/**\n * Execute a transaction\n */\nexport async function transaction(callback) {\n  if (!sql) {\n    throw new Error('Database connection not configured. Please set DATABASE_URL environment variable.');\n  }\n  try {\n    const result = await callback(sql);\n    return result;\n  } catch (error) {\n    console.error('Transaction error:', error);\n    throw error;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,wDAAwD;AACxD,MAAM,cAAc,QAAQ,GAAG,CAAC,YAAY,IAAI,QAAQ,GAAG,CAAC,YAAY,IAAI;AACrE,MAAM,MAAM,cAAc,IAAA,gKAAI,EAAC,eAAe;AAK9C,eAAe,MAAM,IAAI,EAAE,MAAM;IACtC,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IACA,IAAI;QACF,MAAM,SAAS,MAAM,IAAI,MAAM;QAC/B,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM;IACR;AACF;AAKO,eAAe,YAAY,QAAQ;IACxC,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IACA,IAAI;QACF,MAAM,SAAS,MAAM,SAAS;QAC9B,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QACpC,MAAM;IACR;AACF"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/collinsnnaji/VSCodeDevelopments/convivia24/lib/auth.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\nimport bcrypt from 'bcryptjs';\n\nconst JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key-change-in-production';\nconst JWT_EXPIRE = process.env.JWT_EXPIRE || '30d';\n\n/**\n * Hash a password\n */\nexport async function hashPassword(password) {\n  const salt = await bcrypt.genSalt(10);\n  return bcrypt.hash(password, salt);\n}\n\n/**\n * Compare password with hash\n */\nexport async function comparePassword(password, hash) {\n  return bcrypt.compare(password, hash);\n}\n\n/**\n * Generate JWT token\n */\nexport function generateToken(payload) {\n  return jwt.sign(payload, JWT_SECRET, {\n    expiresIn: JWT_EXPIRE,\n  });\n}\n\n/**\n * Verify JWT token\n */\nexport function verifyToken(token) {\n  try {\n    return jwt.verify(token, JWT_SECRET);\n  } catch (error) {\n    return null;\n  }\n}\n\n/**\n * Get token from request headers\n */\nexport function getTokenFromRequest(request) {\n  const authHeader = request.headers.get('authorization');\n  if (authHeader && authHeader.startsWith('Bearer ')) {\n    return authHeader.substring(7);\n  }\n  return null;\n}\n\n/**\n * Middleware to verify authentication\n */\nexport async function authenticate(request) {\n  // DEVELOPMENT MODE: Allow access without authentication\n  const DEV_MODE = process.env.NODE_ENV === 'development' || true; // Allow dev mode for now\n  \n  if (DEV_MODE) {\n    // Return a mock admin user for development\n    return { \n      user: {\n        id: 'dev-user-id',\n        email: 'dev@convivia24.com',\n        role: 'admin',\n        business_id: null,\n      }, \n      error: null \n    };\n  }\n\n  const token = getTokenFromRequest(request);\n  \n  if (!token) {\n    return { error: 'No token provided', status: 401 };\n  }\n\n  const decoded = verifyToken(token);\n  if (!decoded) {\n    return { error: 'Invalid token', status: 401 };\n  }\n\n  return { user: decoded, error: null };\n}\n\n/**\n * Middleware factory for role-based access control\n */\nexport function requireRole(...allowedRoles) {\n  return async (request) => {\n    const authResult = await authenticate(request);\n    \n    if (authResult.error) {\n      return authResult;\n    }\n\n    const user = authResult.user;\n    \n    if (!allowedRoles.includes(user.role)) {\n      return { \n        error: `Access denied. Required roles: ${allowedRoles.join(', ')}`, \n        status: 403 \n      };\n    }\n\n    return { user, error: null };\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU,IAAI;AAC7C,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU,IAAI;AAKtC,eAAe,aAAa,QAAQ;IACzC,MAAM,OAAO,MAAM,8IAAM,CAAC,OAAO,CAAC;IAClC,OAAO,8IAAM,CAAC,IAAI,CAAC,UAAU;AAC/B;AAKO,eAAe,gBAAgB,QAAQ,EAAE,IAAI;IAClD,OAAO,8IAAM,CAAC,OAAO,CAAC,UAAU;AAClC;AAKO,SAAS,cAAc,OAAO;IACnC,OAAO,kJAAG,CAAC,IAAI,CAAC,SAAS,YAAY;QACnC,WAAW;IACb;AACF;AAKO,SAAS,YAAY,KAAK;IAC/B,IAAI;QACF,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;IAC3B,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAKO,SAAS,oBAAoB,OAAO;IACzC,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;IACvC,IAAI,cAAc,WAAW,UAAU,CAAC,YAAY;QAClD,OAAO,WAAW,SAAS,CAAC;IAC9B;IACA,OAAO;AACT;AAKO,eAAe,aAAa,OAAO;IACxC,wDAAwD;IACxD,MAAM,WAAW,oDAAyB,iBAAiB,MAAM,yBAAyB;IAE1F,wCAAc;QACZ,2CAA2C;QAC3C,OAAO;YACL,MAAM;gBACJ,IAAI;gBACJ,OAAO;gBACP,MAAM;gBACN,aAAa;YACf;YACA,OAAO;QACT;IACF;;;IAEA,MAAM;IAMN,MAAM;AAMR;AAKO,SAAS,YAAY,GAAG,YAAY;IACzC,OAAO,OAAO;QACZ,MAAM,aAAa,MAAM,aAAa;QAEtC,IAAI,WAAW,KAAK,EAAE;YACpB,OAAO;QACT;QAEA,MAAM,OAAO,WAAW,IAAI;QAE5B,IAAI,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAG;YACrC,OAAO;gBACL,OAAO,CAAC,+BAA+B,EAAE,aAAa,IAAI,CAAC,OAAO;gBAClE,QAAQ;YACV;QACF;QAEA,OAAO;YAAE;YAAM,OAAO;QAAK;IAC7B;AACF"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///Users/collinsnnaji/VSCodeDevelopments/convivia24/app/api/bookings/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { sql } from '@/lib/db';\nimport { authenticate, requireRole } from '@/lib/auth';\n\n// GET all bookings (role-based filtering)\nexport async function GET(request) {\n  try {\n    const authResult = await authenticate(request);\n\n    if (authResult.error) {\n      return NextResponse.json(\n        { error: authResult.error },\n        { status: authResult.status }\n      );\n    }\n\n    const { user } = authResult;\n    const { searchParams } = new URL(request.url);\n    const status = searchParams.get('status');\n    const business_id = searchParams.get('business_id');\n\n    // Check if database is available\n    if (!sql) {\n      // Return mock data for development\n      const mockBookings = [\n        {\n          id: 'mock-1',\n          business_id: 'mock-business-1',\n          service_id: 'mock-service-1',\n          requested_by: user.id,\n          status: 'pending',\n          urgency: 'routine',\n          scheduled_start: new Date(Date.now() + 86400000).toISOString(),\n          scheduled_end: new Date(Date.now() + 86400000 + 14400000).toISOString(),\n          location_address: '123 Main Street, Lagos',\n          special_instructions: 'Please use eco-friendly cleaning products',\n          total_cost: 15000,\n          payment_status: 'pending',\n          business_name: 'TechCorp Nigeria',\n          service_name: 'Routine Commercial Cleaning',\n          service_type: 'routine',\n          requested_by_email: 'client@techcorp.com',\n          requested_by_first_name: 'John',\n          requested_by_last_name: 'Doe',\n          created_at: new Date().toISOString(),\n        },\n        {\n          id: 'mock-2',\n          business_id: 'mock-business-2',\n          service_id: 'mock-service-2',\n          requested_by: user.id,\n          status: 'in_progress',\n          urgency: 'urgent',\n          scheduled_start: new Date().toISOString(),\n          scheduled_end: new Date(Date.now() + 7200000).toISOString(),\n          location_address: '456 Business District, Abuja',\n          special_instructions: null,\n          total_cost: 35000,\n          payment_status: 'pending',\n          business_name: 'Healthcare Plus',\n          service_name: 'Rapid Response & Emergency Cleaning',\n          service_type: 'rapid',\n          requested_by_email: 'admin@healthcare.com',\n          requested_by_first_name: 'Sarah',\n          requested_by_last_name: 'Johnson',\n          created_at: new Date(Date.now() - 3600000).toISOString(),\n        },\n        {\n          id: 'mock-3',\n          business_id: 'mock-business-3',\n          service_id: 'mock-service-3',\n          requested_by: user.id,\n          status: 'completed',\n          urgency: 'routine',\n          scheduled_start: new Date(Date.now() - 172800000).toISOString(),\n          scheduled_end: new Date(Date.now() - 172800000 + 28800000).toISOString(),\n          actual_start: new Date(Date.now() - 172800000).toISOString(),\n          actual_end: new Date(Date.now() - 172800000 + 28800000).toISOString(),\n          location_address: '789 Corporate Plaza, Victoria Island',\n          special_instructions: 'Deep clean required',\n          total_cost: 50000,\n          payment_status: 'paid',\n          business_name: 'Finance Hub Ltd',\n          service_name: 'Deep Cleaning & Sanitation Reset',\n          service_type: 'deep',\n          requested_by_email: 'facilities@financehub.com',\n          requested_by_first_name: 'Michael',\n          requested_by_last_name: 'Chen',\n          created_at: new Date(Date.now() - 259200000).toISOString(),\n        },\n      ];\n\n      // Filter mock data based on role\n      let filteredBookings = mockBookings;\n      if (user.role === 'client') {\n        filteredBookings = mockBookings.filter(b => b.business_id === user.business_id);\n      } else if (user.role === 'staff' || user.role === 'supervisor') {\n        // Staff see assigned jobs\n        filteredBookings = mockBookings.slice(0, 2);\n      }\n\n      if (status && status !== 'all') {\n        filteredBookings = filteredBookings.filter(b => b.status === status);\n      }\n\n      return NextResponse.json({ bookings: filteredBookings });\n    }\n\n    let bookings;\n\n    if (user.role === 'admin') {\n      // Admin sees all bookings\n      if (status && business_id) {\n        bookings = await sql`\n          SELECT \n            b.*,\n            bs.name as business_name,\n            s.name as service_name,\n            s.type as service_type,\n            u.email as requested_by_email,\n            u.first_name as requested_by_first_name,\n            u.last_name as requested_by_last_name\n          FROM bookings b\n          LEFT JOIN businesses bs ON b.business_id = bs.id\n          LEFT JOIN services s ON b.service_id = s.id\n          LEFT JOIN users u ON b.requested_by = u.id\n          WHERE b.status = ${status} AND b.business_id = ${business_id}\n          ORDER BY b.created_at DESC\n          LIMIT 100\n        `;\n      } else if (status) {\n        bookings = await sql`\n          SELECT \n            b.*,\n            bs.name as business_name,\n            s.name as service_name,\n            s.type as service_type,\n            u.email as requested_by_email,\n            u.first_name as requested_by_first_name,\n            u.last_name as requested_by_last_name\n          FROM bookings b\n          LEFT JOIN businesses bs ON b.business_id = bs.id\n          LEFT JOIN services s ON b.service_id = s.id\n          LEFT JOIN users u ON b.requested_by = u.id\n          WHERE b.status = ${status}\n          ORDER BY b.created_at DESC\n          LIMIT 100\n        `;\n      } else if (business_id) {\n        bookings = await sql`\n          SELECT \n            b.*,\n            bs.name as business_name,\n            s.name as service_name,\n            s.type as service_type,\n            u.email as requested_by_email,\n            u.first_name as requested_by_first_name,\n            u.last_name as requested_by_last_name\n          FROM bookings b\n          LEFT JOIN businesses bs ON b.business_id = bs.id\n          LEFT JOIN services s ON b.service_id = s.id\n          LEFT JOIN users u ON b.requested_by = u.id\n          WHERE b.business_id = ${business_id}\n          ORDER BY b.created_at DESC\n          LIMIT 100\n        `;\n      } else {\n        bookings = await sql`\n          SELECT \n            b.*,\n            bs.name as business_name,\n            s.name as service_name,\n            s.type as service_type,\n            u.email as requested_by_email,\n            u.first_name as requested_by_first_name,\n            u.last_name as requested_by_last_name\n          FROM bookings b\n          LEFT JOIN businesses bs ON b.business_id = bs.id\n          LEFT JOIN services s ON b.service_id = s.id\n          LEFT JOIN users u ON b.requested_by = u.id\n          ORDER BY b.created_at DESC\n          LIMIT 100\n        `;\n      }\n    } else if (user.role === 'client') {\n      // Clients see only their business bookings\n      if (status) {\n        bookings = await sql`\n          SELECT \n            b.*,\n            bs.name as business_name,\n            s.name as service_name,\n            s.type as service_type,\n            u.email as requested_by_email,\n            u.first_name as requested_by_first_name,\n            u.last_name as requested_by_last_name\n          FROM bookings b\n          LEFT JOIN businesses bs ON b.business_id = bs.id\n          LEFT JOIN services s ON b.service_id = s.id\n          LEFT JOIN users u ON b.requested_by = u.id\n          WHERE b.business_id = ${user.business_id} AND b.status = ${status}\n          ORDER BY b.created_at DESC\n        `;\n      } else {\n        bookings = await sql`\n          SELECT \n            b.*,\n            bs.name as business_name,\n            s.name as service_name,\n            s.type as service_type,\n            u.email as requested_by_email,\n            u.first_name as requested_by_first_name,\n            u.last_name as requested_by_last_name\n          FROM bookings b\n          LEFT JOIN businesses bs ON b.business_id = bs.id\n          LEFT JOIN services s ON b.service_id = s.id\n          LEFT JOIN users u ON b.requested_by = u.id\n          WHERE b.business_id = ${user.business_id}\n          ORDER BY b.created_at DESC\n        `;\n      }\n    } else if (user.role === 'staff' || user.role === 'supervisor') {\n      // Staff/supervisor see assigned jobs\n      if (status) {\n        bookings = await sql`\n          SELECT DISTINCT\n            b.*,\n            bs.name as business_name,\n            s.name as service_name,\n            s.type as service_type,\n            sa.status as assignment_status,\n            sa.assigned_at\n          FROM bookings b\n          LEFT JOIN businesses bs ON b.business_id = bs.id\n          LEFT JOIN services s ON b.service_id = s.id\n          LEFT JOIN staff_assignments sa ON b.id = sa.booking_id\n          WHERE (sa.staff_id = ${user.id} OR sa.supervisor_id = ${user.id}) AND b.status = ${status}\n          ORDER BY b.scheduled_start DESC, b.created_at DESC\n        `;\n      } else {\n        bookings = await sql`\n          SELECT DISTINCT\n            b.*,\n            bs.name as business_name,\n            s.name as service_name,\n            s.type as service_type,\n            sa.status as assignment_status,\n            sa.assigned_at\n          FROM bookings b\n          LEFT JOIN businesses bs ON b.business_id = bs.id\n          LEFT JOIN services s ON b.service_id = s.id\n          LEFT JOIN staff_assignments sa ON b.id = sa.booking_id\n          WHERE sa.staff_id = ${user.id} OR sa.supervisor_id = ${user.id}\n          ORDER BY b.scheduled_start DESC, b.created_at DESC\n        `;\n      }\n    } else {\n      return NextResponse.json(\n        { error: 'Unauthorized' },\n        { status: 403 }\n      );\n    }\n\n    return NextResponse.json({ bookings });\n  } catch (error) {\n    console.error('Get bookings error:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch bookings' },\n      { status: 500 }\n    );\n  }\n}\n\n// POST create new booking (clients only)\nexport async function POST(request) {\n  try {\n    const authResult = await authenticate(request);\n\n    if (authResult.error) {\n      return NextResponse.json(\n        { error: authResult.error },\n        { status: authResult.status }\n      );\n    }\n\n    const { user } = authResult;\n\n    if (user.role !== 'client') {\n      return NextResponse.json(\n        { error: 'Only clients can create bookings' },\n        { status: 403 }\n      );\n    }\n\n    const body = await request.json();\n    const {\n      service_id,\n      urgency = 'routine',\n      scheduled_start,\n      scheduled_end,\n      location_address,\n      special_instructions,\n      total_cost,\n    } = body;\n\n    if (!service_id || !location_address) {\n      return NextResponse.json(\n        { error: 'Service ID and location address are required' },\n        { status: 400 }\n      );\n    }\n\n    // Verify service exists\n    const [service] = await sql`\n      SELECT * FROM services WHERE id = ${service_id} AND is_active = true\n    `;\n\n    if (!service) {\n      return NextResponse.json(\n        { error: 'Service not found or inactive' },\n        { status: 404 }\n      );\n    }\n\n    // Calculate cost if not provided\n    let finalCost = total_cost || service.base_price;\n    if (urgency === 'urgent') {\n      finalCost = finalCost * 1.5; // 50% premium\n    } else if (urgency === 'emergency') {\n      finalCost = finalCost * 2; // 100% premium\n    }\n\n    // Create booking\n    const [booking] = await sql`\n      INSERT INTO bookings (\n        business_id, service_id, requested_by, urgency, \n        scheduled_start, scheduled_end, location_address, \n        special_instructions, total_cost, status\n      )\n      VALUES (\n        ${user.business_id},\n        ${service_id},\n        ${user.id},\n        ${urgency},\n        ${scheduled_start || null},\n        ${scheduled_end || null},\n        ${location_address},\n        ${special_instructions || null},\n        ${finalCost},\n        ${urgency === 'emergency' ? 'pending' : 'pending'}\n      )\n      RETURNING *\n    `;\n\n    // Get full booking details\n    const [fullBooking] = await sql`\n      SELECT \n        b.*,\n        bs.name as business_name,\n        s.name as service_name,\n        s.type as service_type,\n        u.email as requested_by_email\n      FROM bookings b\n      LEFT JOIN businesses bs ON b.business_id = bs.id\n      LEFT JOIN services s ON b.service_id = s.id\n      LEFT JOIN users u ON b.requested_by = u.id\n      WHERE b.id = ${booking.id}\n    `;\n\n    return NextResponse.json({ booking: fullBooking }, { status: 201 });\n  } catch (error) {\n    console.error('Create booking error:', error);\n    return NextResponse.json(\n      { error: 'Failed to create booking' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":"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"}}]
}