{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/collinsnnaji/VSCodeDevelopments/convivia24/app/admin/leads/actions.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ntype Client = { id: string; name: string };\n\nexport default function LeadActions({\n  leadId, status, clients, assignedClient\n}: { leadId: string; status: string; clients: Client[]; assignedClient?: string }) {\n  const [currentStatus, setCurrentStatus] = useState(status);\n  const [selectedClient, setSelectedClient] = useState(assignedClient || '');\n  const [saving, setSaving] = useState(false);\n\n  async function update(patch: Record<string, string>) {\n    setSaving(true);\n    await fetch(`/api/admin/leads/${leadId}`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(patch),\n    });\n    setSaving(false);\n  }\n\n  async function handleStatus(e: React.ChangeEvent<HTMLSelectElement>) {\n    setCurrentStatus(e.target.value);\n    await update({ status: e.target.value });\n  }\n\n  async function handleAssign(e: React.ChangeEvent<HTMLSelectElement>) {\n    setSelectedClient(e.target.value);\n    await update({ assigned_client: e.target.value });\n  }\n\n  return (\n    <div className=\"flex items-center gap-2 flex-wrap\">\n      <select value={currentStatus} onChange={handleStatus} disabled={saving}\n        className=\"bg-white border border-zinc-300 text-zinc-900 text-[11px] font-black uppercase px-2 py-1.5 rounded focus:outline-none focus:ring-1 focus:ring-red-500 disabled:opacity-50\">\n        {['new','contacted','converted','rejected'].map((s) => (\n          <option key={s} value={s}>{s}</option>\n        ))}\n      </select>\n      <select value={selectedClient} onChange={handleAssign} disabled={saving}\n        className=\"bg-white border border-zinc-300 text-zinc-700 text-[11px] px-2 py-1.5 rounded focus:outline-none focus:ring-1 focus:ring-red-500 disabled:opacity-50\">\n        <option value=\"\">Assign to client…</option>\n        {clients.map((c) => (\n          <option key={c.id} value={c.id}>{c.name}</option>\n        ))}\n      </select>\n      {saving && <span className=\"text-[10px] text-zinc-500\">Saving…</span>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAMe,SAAS,YAAY,EAClC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,cAAc,EACwC;IAC/E,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC,kBAAkB;IACvE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,eAAe,OAAO,KAA6B;QACjD,UAAU;QACV,MAAM,MAAM,CAAC,iBAAiB,EAAE,QAAQ,EAAE;YACxC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,UAAU;IACZ;IAEA,eAAe,aAAa,CAAuC;QACjE,iBAAiB,EAAE,MAAM,CAAC,KAAK;QAC/B,MAAM,OAAO;YAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;QAAC;IACxC;IAEA,eAAe,aAAa,CAAuC;QACjE,kBAAkB,EAAE,MAAM,CAAC,KAAK;QAChC,MAAM,OAAO;YAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;QAAC;IACjD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,OAAO;gBAAe,UAAU;gBAAc,UAAU;gBAC9D,WAAU;0BACT;oBAAC;oBAAM;oBAAY;oBAAY;iBAAW,CAAC,GAAG,CAAC,CAAC,kBAC/C,8OAAC;wBAAe,OAAO;kCAAI;uBAAd;;;;;;;;;;0BAGjB,8OAAC;gBAAO,OAAO;gBAAgB,UAAU;gBAAc,UAAU;gBAC/D,WAAU;;kCACV,8OAAC;wBAAO,OAAM;kCAAG;;;;;;oBAChB,QAAQ,GAAG,CAAC,CAAC,kBACZ,8OAAC;4BAAkB,OAAO,EAAE,EAAE;sCAAG,EAAE,IAAI;2BAA1B,EAAE,EAAE;;;;;;;;;;;YAGpB,wBAAU,8OAAC;gBAAK,WAAU;0BAA4B;;;;;;;;;;;;AAG7D"}}]
}