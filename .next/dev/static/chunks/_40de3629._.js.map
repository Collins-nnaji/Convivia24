{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/collinsnnaji/VSCodeDevelopments/convivia24/app/admin/leads/actions.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ntype Client = { id: string; name: string };\n\nexport default function LeadActions({\n  leadId, status, clients, assignedClient\n}: { leadId: string; status: string; clients: Client[]; assignedClient?: string }) {\n  const [currentStatus, setCurrentStatus] = useState(status);\n  const [selectedClient, setSelectedClient] = useState(assignedClient || '');\n  const [saving, setSaving] = useState(false);\n\n  async function update(patch: Record<string, string>) {\n    setSaving(true);\n    await fetch(`/api/admin/leads/${leadId}`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(patch),\n    });\n    setSaving(false);\n  }\n\n  async function handleStatus(e: React.ChangeEvent<HTMLSelectElement>) {\n    setCurrentStatus(e.target.value);\n    await update({ status: e.target.value });\n  }\n\n  async function handleAssign(e: React.ChangeEvent<HTMLSelectElement>) {\n    setSelectedClient(e.target.value);\n    await update({ assigned_client: e.target.value });\n  }\n\n  return (\n    <div className=\"flex items-center gap-2 flex-wrap\">\n      <select value={currentStatus} onChange={handleStatus} disabled={saving}\n        className=\"bg-white border border-zinc-300 text-zinc-900 text-[11px] font-black uppercase px-2 py-1.5 rounded focus:outline-none focus:ring-1 focus:ring-red-500 disabled:opacity-50\">\n        {['new','contacted','converted','rejected'].map((s) => (\n          <option key={s} value={s}>{s}</option>\n        ))}\n      </select>\n      <select value={selectedClient} onChange={handleAssign} disabled={saving}\n        className=\"bg-white border border-zinc-300 text-zinc-700 text-[11px] px-2 py-1.5 rounded focus:outline-none focus:ring-1 focus:ring-red-500 disabled:opacity-50\">\n        <option value=\"\">Assign to client…</option>\n        {clients.map((c) => (\n          <option key={c.id} value={c.id}>{c.name}</option>\n        ))}\n      </select>\n      {saving && <span className=\"text-[10px] text-zinc-500\">Saving…</span>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;;;;;;;AAFA;;AAMe,SAAS,YAAY,KAE6C;;QAD/E,SADkC,MAClC,QAAQ,SAD0B,MAC1B,QAAQ,UADkB,MAClB,SAAS,iBADS,MACT;;IAEzB,IAA0C,qLAAA,IAAA,yKAAQ,EAAC,aAA5C,gBAAmC,cAApB,mBAAoB;IAC1C,IAA4C,sLAAA,IAAA,yKAAQ,EAAC,kBAAkB,SAAhE,iBAAqC,eAArB,oBAAqB;IAC5C,IAA4B,sLAAA,IAAA,yKAAQ,EAAC,YAA9B,SAAqB,eAAb,YAAa;IAE5B,SAAe,OAAO,KAA6B;;;;;wBACjD,UAAU;wBACV;;4BAAM,MAAM,AAAC,oBAA0B,OAAP,SAAU;gCACxC,QAAQ;gCACR,SAAS;oCAAE,gBAAgB;gCAAmB;gCAC9C,MAAM,KAAK,SAAS,CAAC;4BACvB;;;wBAJA;wBAKA,UAAU;;;;;;QACZ;;IAEA,SAAe,aAAa,CAAuC;;;;;wBACjE,iBAAiB,EAAE,MAAM,CAAC,KAAK;wBAC/B;;4BAAM,OAAO;gCAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;4BAAC;;;wBAAtC;;;;;;QACF;;IAEA,SAAe,aAAa,CAAuC;;;;;wBACjE,kBAAkB,EAAE,MAAM,CAAC,KAAK;wBAChC;;4BAAM,OAAO;gCAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;4BAAC;;;wBAA/C;;;;;;QACF;;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAO,OAAO;gBAAe,UAAU;gBAAc,UAAU;gBAC9D,WAAU;0BACT;oBAAC;oBAAM;oBAAY;oBAAY;iBAAW,CAAC,GAAG,CAAC,SAAC;yCAC/C,6LAAC;wBAAe,OAAO;kCAAI;uBAAd;;;;;;;;;;;0BAGjB,6LAAC;gBAAO,OAAO;gBAAgB,UAAU;gBAAc,UAAU;gBAC/D,WAAU;;kCACV,6LAAC;wBAAO,OAAM;kCAAG;;;;;;oBAChB,QAAQ,GAAG,CAAC,SAAC;6CACZ,6LAAC;4BAAkB,OAAO,EAAE,EAAE;sCAAG,EAAE,IAAI;2BAA1B,EAAE,EAAE;;;;;;;;;;;;YAGpB,wBAAU,6LAAC;gBAAK,WAAU;0BAA4B;;;;;;;;;;;;AAG7D;GA7CwB;KAAA"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///Users/collinsnnaji/VSCodeDevelopments/convivia24/node_modules/%40swc/helpers/esm/_async_to_generator.js"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) resolve(value);\n    else Promise.resolve(value).then(_next, _throw);\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n\n            _next(undefined);\n        });\n    };\n}\nexport { _async_to_generator as _ };\n"],"names":[],"mappings":";;;;AAAA,SAAS,mBAAmB,GAAG,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG;IACrE,IAAI;QACA,IAAI,OAAO,GAAG,CAAC,IAAI,CAAC;QACpB,IAAI,QAAQ,KAAK,KAAK;IAC1B,EAAE,OAAO,OAAO;QACZ,OAAO;QACP;IACJ;IACA,IAAI,KAAK,IAAI,EAAE,QAAQ;SAClB,QAAQ,OAAO,CAAC,OAAO,IAAI,CAAC,OAAO;AAC5C;AACA,SAAS,oBAAoB,EAAE;IAC3B,OAAO;QACH,IAAI,OAAO,IAAI,EAAE,OAAO;QAExB,OAAO,IAAI,QAAQ,SAAS,OAAO,EAAE,MAAM;YACvC,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM;YAEzB,SAAS,MAAM,KAAK;gBAChB,mBAAmB,KAAK,SAAS,QAAQ,OAAO,QAAQ,QAAQ;YACpE;YAEA,SAAS,OAAO,GAAG;gBACf,mBAAmB,KAAK,SAAS,QAAQ,OAAO,QAAQ,SAAS;YACrE;YAEA,MAAM;QACV;IACJ;AACJ","ignoreList":[0]}}]
}